<html>
    <head>
        <style>
            body, body {
                padding: 0;
                margin: 0;
            }
            canvas {
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <!-- <h1>Titulo</h1> -->
        <!-- <p>Algooooooo</p> -->

        <!-- canvas id="myCanvas"></canvas> -->

        <script>
            console.log("hola")

            //const canvas = document.getElementById('myCanvas')
            const canvas = document.createElement('canvas')
            const ctx = canvas.getContext('2d')
            document.body.appendChild(canvas)

            canvas.width = window.innerWidth
            canvas.height = window.innerHeight

            //rect
            ctx.fillStyle = 'lightblue'
            ctx.fillRect(0, 0, canvas.width, canvas.height)

            let x = 0
            let y = 0
            let isMouseDown= false
            const speed = 5
            
            function render () {
                requestAnimationFrame(render)
                ctx.fillStyle = 'lightblue'
                ctx.fillRect(0, 0, canvas.width, canvas.height)
    
                if (keyboard.a) x -= speed
                if (keyboard.d) x += speed
                if (keyboard.w) y -= speed
                if (keyboard.s) y += speed
                if (keyboard.q) {
                    y -= speed
                    x -= speed
                }
                if (keyboard.e) {
                    y -= speed
                    x += speed
                }
    
                ctx.fillStyle = isMouseDown ? 'cyan' : 'blue'
                const size = 100
                ctx.fillRect(x - size/2, y - size/2, size, size)
            }

            //setInterval(render, 16) //no va sincronizado con el timer del navegador
            requestAnimationFrame(render)

            const keyboard = {}
            document.addEventListener('keydown', function (event) {
                // switch (event.key) {
                //     case 'a': x -= speed; break
                //     case 'd': x += speed; break
                //     case 'w': y -= speed; break
                //     case 's': y += speed; break
                // }
                keyboard[event.key] = true
            })
            document.addEventListener('keyup', function (event) {
                keyboard[event.key] = false
            })


        </script>
    </body>
</html>
